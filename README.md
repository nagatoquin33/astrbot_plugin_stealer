# ğŸŒŸ è¡¨æƒ…åŒ…å°å·

<div align="center">

[![License: MIT](https://img.shields.io/badge/License-MIT-blue.svg)](https://opensource.org/licenses/MIT)
![Python Version](https://img.shields.io/badge/Python-3.10.14%2B-blue)
![Platform](https://img.shields.io/badge/Platform-Windows%20%7C%20Linux%20%7C%20macOS-lightgrey)
[![PRs Welcome](https://img.shields.io/badge/PRs-Welcome-brightgreen)](CONTRIBUTING.md)
[![Last Commit](https://img.shields.io/github/last-commit/nagatoquin33/astrbot_plugin_stealer)](https://github.com/nagatoquin33/astrbot_plugin_stealer/commits/main)

</div>

## ğŸ“‘ ç›®å½•

- [ğŸŒŸ è¡¨æƒ…åŒ…å°å·](#-è¡¨æƒ…åŒ…å°å·)
  - [ğŸ“‘ ç›®å½•](#-ç›®å½•)
  - [ğŸ“¢ ç®€ä»‹](#-ç®€ä»‹)
  - [ğŸš€ åŠŸèƒ½ç‰¹ç‚¹](#-åŠŸèƒ½ç‰¹ç‚¹)
  - [ğŸ“¦ å®‰è£…æ–¹æ³•](#-å®‰è£…æ–¹æ³•)
  - [ğŸ› ï¸ å¿«é€Ÿä¸Šæ‰‹](#ï¸-å¿«é€Ÿä¸Šæ‰‹)
  - [âš™ï¸ é…ç½®è¯´æ˜](#ï¸-é…ç½®è¯´æ˜)
  - [ğŸ® ä½¿ç”¨æŒ‡ä»¤](#-ä½¿ç”¨æŒ‡ä»¤)
  - [ğŸ—‘ï¸ æ–‡ä»¶æ¸…ç†æœºåˆ¶](#ï¸-æ–‡ä»¶æ¸…ç†æœºåˆ¶)
  - [ğŸ¯ å›¾ç‰‡å¤„ç†èŠ‚æµ](#-å›¾ç‰‡å¤„ç†èŠ‚æµ)
  - [âš ï¸ æ³¨æ„äº‹é¡¹](#ï¸-æ³¨æ„äº‹é¡¹)
  - [ğŸ“„ è®¸å¯è¯](#-è®¸å¯è¯)

## ğŸ“¢ ç®€ä»‹

æˆ‘æƒ³ä»¿ç…§éº¦éº¦çš„è¡¨æƒ…åŒ…å·å–åšä¸ªå¨±ä¹æ€§çš„æ’ä»¶çš„ï¼Œäºæ˜¯å°±æœ‰äº†è¿™ä¸ªè¡¨æƒ…åŒ…å°å·æ’ä»¶

å…¨äººæœºä»£ç ï¼Œä¸è¿‡æœ¬äººä¸€ç›´åœ¨ç›‘å·¥è°ƒè¯•ï¼Œä½†ä¸ä¿è¯ä»€ä¹ˆé—®é¢˜éƒ½æ²¡æœ‰

æˆ‘å°½é‡åšåˆ°åœ¨ä¸Šæ¶å‰è®©è¿™ä¸ªæ’ä»¶èƒ½æ­£å¸¸å·¥ä½œ

è¡¨æƒ…åŒ…å°å·æ˜¯ä¸€æ¬¾åŸºäºå¤šæ¨¡æ€AIçš„å¨±ä¹æ€§æ’ä»¶ï¼Œèƒ½å¤Ÿè‡ªåŠ¨å·å–èŠå¤©ä¸­çš„å›¾ç‰‡ï¼Œè¿›è¡Œè§†è§‰ç†è§£ä¸æƒ…ç»ªåˆ†ç±»ï¼Œå¹¶åœ¨å‘é€å›å¤å‰æŒ‰æ¦‚ç‡è¿½åŠ ä¸€å¼ åŒ¹é…æƒ…ç»ªçš„è¡¨æƒ…ï¼Œæ˜¾è‘—æå‡èŠå¤©äº’åŠ¨ä½“éªŒã€‚

å¦‚æœå·å¤Ÿäº†å¯ä»¥é‡‘ç›†æ´—æ‰‹ï¼Œæ”¯æŒå·å–åŠŸèƒ½å•ç‹¬å¼€å¯æˆ–å…³é—­

æœ¬æ’ä»¶è®¾è®¡çµæ´»ï¼Œæ”¯æŒè‡ªåŠ¨ä½¿ç”¨å½“å‰ä¼šè¯çš„è§†è§‰æ¨¡å‹ï¼Œæ— éœ€é¢å¤–é…ç½®å³å¯å¼€å§‹ä½¿ç”¨ã€‚

## ğŸ“ æ›´æ–°å†å²
version: 1.0.2ï¼šä¿®æ”¹æ­£åˆ™ï¼Œç°åœ¨åº”è¯¥ä¸ä¼šåæ‰æ¢è¡Œå’Œ[]()è¿™ä¸€ç±»ç¬¦å·äº†ï¼ŒåŒæ—¶åŠ å¼ºå¯¹&&çš„åŒ¹é…
version: 1.0.3ï¼šä¿®å¤æŒ‡ä»¤çŠ¶æ€ï¼Œå»é™¤æ— ç”¨æŒ‡ä»¤ï¼Œæ”¹è¿›çŠ¶æ€æ˜¾ç¤º
version: 1.0.4ï¼šä¿®å¤vlmæ¨¡å‹è°ƒç”¨å¤±è´¥çš„é—®é¢˜
version: 2.0.0ï¼šğŸ‰ é‡å¤§æ›´æ–°ï¼æ–°å¢å¢å¼ºå­˜å‚¨ç³»ç»Ÿï¼Œå®Œå…¨å‘åå…¼å®¹ï¼Œä¿®å¤æ—§ç‰ˆæœ¬é…ç½®åŒæ­¥å’Œä½¿ç”¨ç»Ÿè®¡é—®é¢˜
version: 2.0.1ï¼šğŸ”§ ä¿®å¤æ¸…ç†é€»è¾‘æ··ä¹±å’Œäººæ ¼æ³¨å…¥é—®é¢˜ï¼Œä¼˜åŒ–è¡¨æƒ…åŒ…è¯†åˆ«å‡†ç¡®ç‡


## ğŸš€ åŠŸèƒ½ç‰¹ç‚¹

### æ ¸å¿ƒåŠŸèƒ½
- **è‡ªåŠ¨å›¾ç‰‡å·å–**ï¼šå®æ—¶ç›‘å¬èŠå¤©ä¸­çš„å›¾ç‰‡æ¶ˆæ¯å¹¶è‡ªåŠ¨ä¿å­˜
- **AIå¤šæ¨¡æ€ç†è§£**ï¼šä½¿ç”¨è§†è§‰æ¨¡å‹ç”Ÿæˆå›¾ç‰‡æè¿°ã€æ ‡ç­¾ä¸æƒ…ç»ªåˆ†ç±»
- **æƒ…ç»ªæ™ºèƒ½åŒ¹é…**ï¼šæ”¯æŒå¼€å¿ƒã€æ‚²ä¼¤ã€æ„¤æ€’ã€æƒŠè®¶ç­‰å¤šç§æƒ…ç»ªåˆ†ç±»ï¼ˆåŸºäºæç¤ºè¯ï¼Œä¸ä¿è¯çœŸçš„100%å‡†ç¡®ï¼‰
- **è‡ªåŠ¨è¡¨æƒ…è¿½åŠ **ï¼šå‘é€å›å¤å‰æŒ‰æ¦‚ç‡è¿½åŠ åŒ¹é…æƒ…ç»ªçš„è¡¨æƒ…ï¼Œæå‡äº’åŠ¨æ€§
- **å†…å®¹å®‰å…¨å®¡æ ¸**ï¼šå¯é€‰å¼€å¯å†…å®¹å®¡æ ¸åŠŸèƒ½ï¼Œè¿‡æ»¤ä¸ç¬¦åˆè¦æ±‚çš„å›¾ç‰‡
- **æ™ºèƒ½å­˜å‚¨ç®¡ç†**ï¼šè‡ªåŠ¨æ¸…ç†è¿‡æœŸæ–‡ä»¶ï¼Œä¼˜åŒ–å­˜å‚¨ç©ºé—´ä½¿ç”¨

### ğŸ†• æ–°åŠŸèƒ½

#### ğŸ¯ æ™ºèƒ½èŠ‚æµç³»ç»Ÿ
- **4ç§èŠ‚æµæ¨¡å¼**ï¼šprobabilityï¼ˆæ¦‚ç‡ï¼‰ã€intervalï¼ˆé—´éš”ï¼‰ã€cooldownï¼ˆå†·å´ï¼‰ã€alwaysï¼ˆæ€»æ˜¯ï¼‰
- **å¤§å¹…å‡å°‘APIæ¶ˆè€—**ï¼šæœ€é«˜å¯å‡å°‘90%çš„VLMè°ƒç”¨
- **çµæ´»é…ç½®**ï¼šå¯æ ¹æ®APIé¢åº¦å’Œéœ€æ±‚è‡ªç”±è°ƒæ•´
- **å®æ—¶ç”Ÿæ•ˆ**ï¼šæ— éœ€é‡å¯ï¼Œé…ç½®å³æ—¶ç”Ÿæ•ˆ

#### ğŸ”§ ç‹¬ç«‹åå°ä»»åŠ¡
- **Rawæ¸…ç†ä»»åŠ¡**ï¼šç‹¬ç«‹çš„åŸå§‹å›¾ç‰‡æ¸…ç†ä»»åŠ¡ï¼Œå¯å•ç‹¬é…ç½®å‘¨æœŸå’Œå¯ç”¨çŠ¶æ€
- **å®¹é‡æ§åˆ¶ä»»åŠ¡**ï¼šç‹¬ç«‹çš„è¡¨æƒ…åŒ…æ•°é‡æ§åˆ¶ä»»åŠ¡ï¼Œå¯å•ç‹¬é…ç½®å‘¨æœŸå’Œå¯ç”¨çŠ¶æ€
- **çµæ´»æ§åˆ¶**ï¼šä¸¤ä¸ªä»»åŠ¡äº’ä¸å½±å“ï¼Œå¯æŒ‰éœ€å¯ç”¨
- **ç²¾ç»†è°ƒæ•´**ï¼šåˆ†åˆ«è®¾ç½®ä¸åŒçš„æ‰§è¡Œå‘¨æœŸ

#### ğŸš€ å¢å¼ºå­˜å‚¨ç³»ç»Ÿ (v2.0.0)
- **å®Œå…¨å‘åå…¼å®¹**ï¼šæ— ç¼å‡çº§ï¼Œä¿ç•™æ‰€æœ‰æ—§æ•°æ®å’Œé…ç½®
- **æ™ºèƒ½æ–‡ä»¶ç”Ÿå‘½å‘¨æœŸç®¡ç†**ï¼šè‡ªåŠ¨è·Ÿè¸ªæ–‡ä»¶ä»åˆ›å»ºåˆ°åˆ é™¤çš„å®Œæ•´ç”Ÿå‘½å‘¨æœŸ
- **å…¨é¢ç»Ÿè®¡ç›‘æ§**ï¼šå®æ—¶å¤„ç†äº‹ä»¶è®°å½•ã€è®¿é—®æ¨¡å¼åˆ†æã€æ€§èƒ½æŒ‡æ ‡æ”¶é›†
- **åè°ƒæ¸…ç†æ“ä½œ**ï¼šçŠ¶æ€æ„ŸçŸ¥çš„æ™ºèƒ½æ¸…ç†ï¼Œé˜²æ­¢ç«æ€æ¡ä»¶å’Œæ•°æ®ä¸ä¸€è‡´
- **æ™ºèƒ½é…é¢ç®¡ç†**ï¼šå¤šç­–ç•¥é…é¢æ‰§è¡Œï¼ŒåŸºäºä½¿ç”¨æ¨¡å¼çš„ä¼˜å…ˆçº§åˆ é™¤
- **ä¿®å¤æ—§ç‰ˆæœ¬é—®é¢˜**ï¼šè§£å†³é…ç½®åŒæ­¥ä¸åŠæ—¶å’Œä½¿ç”¨æ¬¡æ•°ç»Ÿè®¡å¤±æ•ˆçš„é—®é¢˜

### æœªæ¥åŠŸèƒ½è®¡åˆ’

æˆ‘ä»¬è®¡åˆ’åœ¨åç»­ç‰ˆæœ¬ä¸­æ·»åŠ ä»¥ä¸‹åŠŸèƒ½ï¼š

- **è‡ªå®šä¹‰è¡¨æƒ…åº“**ï¼šæ”¯æŒç”¨æˆ·ä¸Šä¼ å’Œç®¡ç†ä¸ªäººè¡¨æƒ…åº“ï¼Œå¢åŠ æ›´å¤šæƒ…æ„Ÿè¡¨è¾¾
- **æ‰‹åŠ¨è°ƒæ•´è¡¨æƒ…çš„æ ‡ç­¾**ï¼šç”¨æˆ·å¯ä»¥æ‰‹åŠ¨è°ƒæ•´å·²å·å–çš„å›¾ç‰‡çš„æ ‡ç­¾ï¼Œä¿®æ­£åˆ†ç±»é”™è¯¯

### æŠ€æœ¯ç‰¹æ€§
- **è‡ªåŠ¨æ¨¡å‹é€‰æ‹©**ï¼šæœªæŒ‡å®šè§†è§‰æ¨¡å‹æ—¶ï¼Œè‡ªåŠ¨ä½¿ç”¨å½“å‰ä¼šè¯çš„è§†è§‰æ¨¡å‹
- **çµæ´»é…ç½®é€‰é¡¹**ï¼šæ”¯æŒé€šè¿‡æŒ‡ä»¤æˆ–é…ç½®æ–‡ä»¶è°ƒæ•´å„é¡¹åŠŸèƒ½å‚æ•°
- **åå°ç»´æŠ¤æœºåˆ¶**ï¼šå®šæœŸæ‰§è¡Œå®¹é‡æ§åˆ¶å’Œæ–‡ä»¶æ¸…ç†ï¼Œç¡®ä¿ç³»ç»Ÿç¨³å®š
- **é”™è¯¯å®¹é”™å¤„ç†**ï¼šå®Œå–„çš„å¼‚å¸¸å¤„ç†æœºåˆ¶ï¼Œä¿éšœæ’ä»¶ç¨³å®šè¿è¡Œï¼ˆå¤§æ¦‚ï¼Ÿï¼‰
- **æ™ºèƒ½äººæ ¼æ³¨å…¥**ï¼šè‡ªåŠ¨ä¸ºAIäººæ ¼æ³¨å…¥æƒ…ç»ªé€‰æ‹©èƒ½åŠ›ï¼Œæ”¯æŒè‡ªåŠ¨ç»´æŠ¤å’Œæ‰‹åŠ¨æ§åˆ¶
- **ä»£ç è´¨é‡ä¿è¯**ï¼šé€šè¿‡ruffæ ¼å¼åŒ–å’Œæ£€æŸ¥ï¼Œç¬¦åˆPEP8è§„èŒƒ
- **ä¼ä¸šçº§å¯é æ€§**ï¼šå¢å¼ºå­˜å‚¨ç³»ç»Ÿæä¾›äº‹åŠ¡æ—¥å¿—ã€è‡ªåŠ¨ä¿®å¤ã€ä¼˜é›…é™çº§ç­‰ç‰¹æ€§
- **é›¶é£é™©å‡çº§**ï¼šå®Œå…¨å‘åå…¼å®¹ï¼Œæ”¯æŒä»ä»»ä½•æ—§ç‰ˆæœ¬æ— ç¼å‡çº§

## ğŸ­ äººæ ¼æ³¨å…¥ç³»ç»Ÿ

æ’ä»¶ä¼šè‡ªåŠ¨ä¸º AstrBot çš„äººæ ¼é…ç½®æ³¨å…¥æƒ…ç»ªé€‰æ‹©æé†’ï¼Œè®© AI åœ¨å›å¤æ—¶èƒ½å¤Ÿæ ¹æ®æƒ…ç»ªé€‰æ‹©åˆé€‚çš„è¡¨æƒ…åŒ…ã€‚

### ç‰¹æ€§
- **è‡ªåŠ¨æ³¨å…¥**: æ’ä»¶å¯åŠ¨æ—¶è‡ªåŠ¨æ³¨å…¥æƒ…ç»ªé€‰æ‹©æé†’åˆ°æ‰€æœ‰äººæ ¼
- **é˜²é‡å¤æ³¨å…¥**: æ™ºèƒ½æ£€æµ‹å·²æ³¨å…¥çš„äººæ ¼ï¼Œé¿å…é‡å¤æ³¨å…¥
- **è‡ªåŠ¨ç»´æŠ¤**: æ¯5åˆ†é’Ÿæ£€æŸ¥ä¸€æ¬¡äººæ ¼çŠ¶æ€ï¼Œç¡®ä¿æ³¨å…¥æŒç»­æœ‰æ•ˆ
- **å®‰å…¨æ¢å¤**: æ’ä»¶å¸è½½æ—¶è‡ªåŠ¨æ¢å¤åŸå§‹äººæ ¼é…ç½®
- **æ‰‹åŠ¨æ§åˆ¶**: æä¾›ç®¡ç†å‘˜å‘½ä»¤æ‰‹åŠ¨ç®¡ç†äººæ ¼æ³¨å…¥

### ç®¡ç†å‘½ä»¤
- `/meme reload_persona` - æ‰‹åŠ¨é‡æ–°æ³¨å…¥äººæ ¼ï¼ˆç®¡ç†å‘˜ï¼‰
- `/meme persona_status` - æŸ¥çœ‹äººæ ¼æ³¨å…¥çŠ¶æ€ï¼ˆç®¡ç†å‘˜ï¼‰

### å·¥ä½œåŸç†
æ’ä»¶ä¼šåœ¨æ¯ä¸ªäººæ ¼çš„ç³»ç»Ÿæç¤ºè¯åæ·»åŠ æƒ…ç»ªé€‰æ‹©æŒ‡å¯¼ï¼Œè®© AI èƒ½å¤Ÿï¼š
1. è¯†åˆ«ç”¨æˆ·æ¶ˆæ¯ä¸­çš„æƒ…ç»ª
2. åœ¨å›å¤å‰æ·»åŠ æƒ…ç»ªæ ‡ç­¾ï¼ˆå¦‚ `&&happy&&`ï¼‰
3. è§¦å‘æ’ä»¶å‘é€å¯¹åº”æƒ…ç»ªçš„è¡¨æƒ…åŒ…

æ³¨å…¥çš„æç¤ºè¯ä¼šè‡ªåŠ¨é€‚é…å½“å‰é…ç½®çš„æƒ…ç»ªåˆ†ç±»ï¼Œç¡®ä¿ AI èƒ½å¤Ÿå‡†ç¡®è¯†åˆ«å’Œæ ‡è®°æƒ…ç»ªã€‚
- **ä¼ä¸šçº§å¯é æ€§**ï¼šå¢å¼ºå­˜å‚¨ç³»ç»Ÿæä¾›äº‹åŠ¡æ—¥å¿—ã€è‡ªåŠ¨ä¿®å¤ã€ä¼˜é›…é™çº§ç­‰ç‰¹æ€§
- **é›¶é£é™©å‡çº§**ï¼šå®Œå…¨å‘åå…¼å®¹ï¼Œæ”¯æŒä»ä»»ä½•æ—§ç‰ˆæœ¬æ— ç¼å‡çº§

## ğŸ“¦ å®‰è£…æ–¹æ³•

### å…¨æ–°å®‰è£…
>>>>>>> 91e5d03 (feat(storage): æ–°å¢å¢å¼ºå­˜å‚¨ç³»ç»Ÿå®ç°æ–‡ä»¶ç”Ÿå‘½å‘¨æœŸç®¡ç†)
1. ç¡®ä¿å·²å®‰è£… AstrBot
2. å°†æ’ä»¶å¤åˆ¶åˆ° AstrBot çš„æ’ä»¶ç›®å½•ï¼š`AstrBot/data/plugins`
3. æˆ–åœ¨ Dashboard æ’ä»¶ä¸­å¿ƒç›´æ¥å®‰è£…
4. é‡å¯ AstrBot æˆ–ä½¿ç”¨çƒ­åŠ è½½å‘½ä»¤

### ä»æ—§ç‰ˆæœ¬å‡çº§ ğŸ”„
**å®Œå…¨å‘åå…¼å®¹ï¼Œé›¶é£é™©å‡çº§ï¼**

1. **å¤‡ä»½æ•°æ®**ï¼ˆæ¨èï¼‰ï¼šå¤‡ä»½ `data/plugins/astrbot_plugin_stealer/` ç›®å½•
2. **ç›´æ¥æ›¿æ¢**ï¼šç”¨æ–°ç‰ˆæœ¬æ–‡ä»¶æ›¿æ¢æ—§ç‰ˆæœ¬
3. **é‡å¯AstrBot**ï¼šæ’ä»¶ä¼šè‡ªåŠ¨æ£€æµ‹å¹¶å…¼å®¹æ—§æ•°æ®
4. **éªŒè¯åŠŸèƒ½**ï¼šä½¿ç”¨ `/meme status` æ£€æŸ¥æ’ä»¶çŠ¶æ€

**å‡çº§åä¿ç•™ï¼š**
- âœ… æ‰€æœ‰è¡¨æƒ…åŒ…æ–‡ä»¶å’Œåˆ†ç±»
- âœ… ä½¿ç”¨ç»Ÿè®¡å’Œé…ç½®è®¾ç½®  
- âœ… ç”¨æˆ·è‡ªå®šä¹‰é…ç½®
- âœ… å®Œæ•´çš„ä½¿ç”¨å†å²

**å‡çº§åä¿®å¤ï¼š**
- âœ… é…ç½®åŒæ­¥é—®é¢˜ï¼ˆæŒ‡ä»¤ä¿®æ”¹åWebUIå®æ—¶æ›´æ–°ï¼‰
- âœ… ä½¿ç”¨æ¬¡æ•°ç»Ÿè®¡é—®é¢˜ï¼ˆæ­£ç¡®è®°å½•å’Œæ›´æ–°ä½¿ç”¨æ¬¡æ•°ï¼‰
- âœ… æ•°æ®ä¸€è‡´æ€§é—®é¢˜ï¼ˆé˜²æ­¢æ–‡ä»¶å­¤ç«‹å’Œç´¢å¼•é”™è¯¯ï¼‰

## ğŸ› ï¸ å¿«é€Ÿä¸Šæ‰‹

### 1. æ¨¡å‹é…ç½®

è®¾ç½®è§†è§‰æ¨¡å‹ï¼ˆç”¨äºå›¾ç‰‡åˆ†ç±»ï¼‰ï¼š

```bash
/meme set_vision <provider_id>
```

> **æ™ºèƒ½æ¨¡å‹é€‰æ‹©**ï¼šè‹¥æœªè®¾ç½®è§†è§‰æ¨¡å‹ï¼Œæ’ä»¶ä¼šè‡ªåŠ¨ä½¿ç”¨å½“å‰ä¼šè¯çš„è§†è§‰æ¨¡å‹ï¼Œæ— éœ€é¢å¤–é…ç½®å³å¯å¼€å§‹ä½¿ç”¨
> 
> **æ”¯æŒæ¨¡å‹**ï¼šéœ€è¦æ”¯æŒå›¾ç‰‡è¾“å…¥çš„è§†è§‰æ¨¡å‹ï¼ˆå¦‚ Gemini, è±†åŒ…, qwen vl ç­‰ï¼‰

### 2. åŠŸèƒ½å¼€å¯

```bash
# å¼€å¯/å…³é—­æ’ä»¶
/meme on
/meme off

# å¼€å¯/å…³é—­è‡ªåŠ¨éšèŠè¡¨æƒ…
/meme auto_on
/meme auto_off
```

### 3. èŠ‚æµé…ç½®ï¼ˆæ¨èï¼‰âœ¨

ä¸ºäº†é¿å…è¿‡åº¦æ¶ˆè€—APIï¼Œå»ºè®®é…ç½®èŠ‚æµï¼š

```bash
# æ¨èé…ç½®ï¼šæ¦‚ç‡æ¨¡å¼ï¼Œ30%å¤„ç†æ¦‚ç‡
/meme throttle_mode probability
/meme throttle_probability 0.3

# æŸ¥çœ‹èŠ‚æµçŠ¶æ€
/meme throttle_status
```

### 4. åŸºæœ¬ä½¿ç”¨

```bash
# æŸ¥çœ‹æ’ä»¶çŠ¶æ€
/meme status

# æŸ¥çœ‹åå°ä»»åŠ¡çŠ¶æ€
/meme task_status
```

## âš™ï¸ é…ç½®è¯´æ˜

### åŸºç¡€é…ç½®

| é…ç½®é¡¹ | ç±»å‹ | é»˜è®¤å€¼ | æè¿° |
|--------|------|--------|------|
| `auto_send` | bool | true | æ˜¯å¦è‡ªåŠ¨éšèŠè¿½åŠ è¡¨æƒ…åŒ… |
| `vision_provider_id` | string | null | è§†è§‰æ¨¡å‹æä¾›å•†IDï¼Œæœªè®¾ç½®æ—¶è‡ªåŠ¨ä½¿ç”¨å½“å‰ä¼šè¯æ¨¡å‹ |
| `emoji_chance` | float | 0.4 | è§¦å‘è¡¨æƒ…åŠ¨ä½œçš„åŸºç¡€æ¦‚ç‡ |
| `max_reg_num` | int | 100 | å…è®¸æ³¨å†Œçš„æœ€å¤§è¡¨æƒ…æ•°é‡ |
| `do_replace` | bool | true | è¾¾åˆ°ä¸Šé™æ—¶æ˜¯å¦æ›¿æ¢æ—§è¡¨æƒ… |
| `steal_emoji` | bool | true | æ˜¯å¦å¼€å¯è¡¨æƒ…åŒ…å·å–åŠŸèƒ½ |
| `content_filtration` | bool | false | æ˜¯å¦å¼€å¯å†…å®¹å®¡æ ¸ |
| `raw_retention_minutes` | int | 60 | rawç›®å½•ä¸­å›¾ç‰‡çš„ä¿ç•™æœŸé™ï¼ˆåˆ†é’Ÿï¼‰ |

### èŠ‚æµé…ç½® ğŸ†•

| é…ç½®é¡¹ | ç±»å‹ | é»˜è®¤å€¼ | æè¿° |
|--------|------|--------|------|
| `image_processing_mode` | string | probability | å›¾ç‰‡å¤„ç†æ¨¡å¼ï¼šalways/probability/interval/cooldown |
| `image_processing_probability` | float | 0.3 | æ¦‚ç‡æ¨¡å¼ä¸‹çš„å¤„ç†æ¦‚ç‡ï¼ˆ0.0-1.0ï¼‰ |
| `image_processing_interval` | int | 60 | é—´éš”æ¨¡å¼ä¸‹çš„å¤„ç†é—´éš”ï¼ˆç§’ï¼‰ |
| `image_processing_cooldown` | int | 30 | å†·å´æ¨¡å¼ä¸‹çš„å†·å´æ—¶é—´ï¼ˆç§’ï¼‰ |

### åå°ä»»åŠ¡é…ç½® ğŸ†•

| é…ç½®é¡¹ | ç±»å‹ | é»˜è®¤å€¼ | æè¿° |
|--------|------|--------|------|
| `raw_cleanup_interval` | int | 30 | rawç›®å½•æ¸…ç†ä»»åŠ¡çš„æ‰§è¡Œå‘¨æœŸï¼ˆåˆ†é’Ÿï¼‰ |
| `capacity_control_interval` | int | 60 | å®¹é‡æ§åˆ¶ä»»åŠ¡çš„æ‰§è¡Œå‘¨æœŸï¼ˆåˆ†é’Ÿï¼‰ |
| `enable_raw_cleanup` | bool | true | æ˜¯å¦å¯ç”¨rawç›®å½•è‡ªåŠ¨æ¸…ç† |
| `enable_capacity_control` | bool | true | æ˜¯å¦å¯ç”¨å®¹é‡è‡ªåŠ¨æ§åˆ¶ |

### å¢å¼ºå­˜å‚¨ç³»ç»Ÿé…ç½® ğŸ†•

| é…ç½®é¡¹ | ç±»å‹ | é»˜è®¤å€¼ | æè¿° |
|--------|------|--------|------|
| `enable_lifecycle_tracking` | bool | true | å¯ç”¨æ–‡ä»¶ç”Ÿå‘½å‘¨æœŸè·Ÿè¸ª |
| `enable_intelligent_cleanup` | bool | true | å¯ç”¨æ™ºèƒ½æ¸…ç†ç®¡ç† |
| `enable_statistics_tracking` | bool | true | å¯ç”¨ç»Ÿè®¡æ•°æ®è·Ÿè¸ª |
| `enable_quota_management` | bool | true | å¯ç”¨å­˜å‚¨é…é¢ç®¡ç† |
| `enable_duplicate_detection` | bool | true | å¯ç”¨å¢å¼ºé‡å¤æ£€æµ‹ |
| `quota_strategy` | string | hybrid | é…é¢ç®¡ç†ç­–ç•¥ï¼šcount_based/size_based/hybrid |
| `max_total_size_mb` | int | 5000 | æœ€å¤§æ€»å­˜å‚¨å¤§å°ï¼ˆMBï¼‰ |
| `quota_warning_threshold` | float | 0.8 | é…é¢è­¦å‘Šé˜ˆå€¼ï¼ˆ0.0-1.0ï¼‰ |
| `quota_critical_threshold` | float | 0.95 | é…é¢ä¸¥é‡é˜ˆå€¼ï¼ˆ0.0-1.0ï¼‰ |
| `cleanup_check_interval` | int | 300 | æ¸…ç†æ£€æŸ¥é—´éš”ï¼ˆç§’ï¼‰ |
| `statistics_aggregation_interval` | int | 3600 | ç»Ÿè®¡èšåˆé—´éš”ï¼ˆç§’ï¼‰ |
| `statistics_retention_days` | int | 90 | ç»Ÿè®¡æ•°æ®ä¿ç•™å¤©æ•° |
| `enable_transaction_logging` | bool | true | å¯ç”¨äº‹åŠ¡æ—¥å¿—è®°å½• |
| `max_retry_attempts` | int | 3 | æœ€å¤§é‡è¯•æ¬¡æ•° |
| `circuit_breaker_threshold` | int | 5 | æ–­è·¯å™¨å¤±è´¥é˜ˆå€¼ |
| `enable_async_processing` | bool | true | å¯ç”¨å¼‚æ­¥å¤„ç† |
| `processing_queue_size` | int | 100 | å¤„ç†é˜Ÿåˆ—å¤§å° |
| `batch_operation_size` | int | 50 | æ‰¹é‡æ“ä½œå¤§å° |

## ğŸ® ä½¿ç”¨æŒ‡ä»¤

### åŸºç¡€æŒ‡ä»¤

| æŒ‡ä»¤ | æè¿° |
|------|------|
| `/meme on` | å¼€å¯å·è¡¨æƒ…åŒ…åŠŸèƒ½ |
| `/meme off` | å…³é—­å·è¡¨æƒ…åŒ…åŠŸèƒ½ |
| `/meme auto_on` | å¼€å¯è‡ªåŠ¨éšèŠè¡¨æƒ… |
| `/meme auto_off` | å…³é—­è‡ªåŠ¨éšèŠè¡¨æƒ… |
| `/meme status` | æŸ¥çœ‹æ’ä»¶çŠ¶æ€å’Œè¡¨æƒ…åŒ…ç»Ÿè®¡ |
| `/meme set_vision <provider_id>` | è®¾ç½®è§†è§‰æ¨¡å‹ |
| `/meme clean` | æ‰‹åŠ¨è§¦å‘æ¸…ç† |
| `/meme list [category] [limit]` | åˆ—å‡ºè¡¨æƒ…åŒ…ï¼ˆæ˜¾ç¤ºå›¾ç‰‡ï¼‰ |
| `/meme list_text [category] [limit]` | åˆ—å‡ºè¡¨æƒ…åŒ…ï¼ˆä»…æ–‡æœ¬ï¼‰ |

### é«˜çº§é…ç½®æŒ‡ä»¤

| æŒ‡ä»¤ | æè¿° |
|------|------|
| `/meme throttle [action] [value]` | é…ç½®å›¾ç‰‡å¤„ç†èŠ‚æµ |
| `/meme task [type] [action] [value]` | é…ç½®åå°ä»»åŠ¡ |

#### èŠ‚æµé…ç½®ç¤ºä¾‹
```bash
/meme throttle                    # æŸ¥çœ‹èŠ‚æµçŠ¶æ€
/meme throttle mode probability   # è®¾ç½®æ¦‚ç‡æ¨¡å¼
/meme throttle probability 0.3    # è®¾ç½®30%å¤„ç†æ¦‚ç‡
/meme throttle interval 60        # è®¾ç½®60ç§’é—´éš”
/meme throttle cooldown 30        # è®¾ç½®30ç§’å†·å´
```

#### ä»»åŠ¡é…ç½®ç¤ºä¾‹
```bash
/meme task cleanup on             # å¯ç”¨æ¸…ç†ä»»åŠ¡
/meme task cleanup interval 30    # è®¾ç½®æ¸…ç†å‘¨æœŸ30åˆ†é’Ÿ
/meme task capacity off           # ç¦ç”¨å®¹é‡æ§åˆ¶
/meme task capacity interval 60   # è®¾ç½®å®¹é‡æ§åˆ¶å‘¨æœŸ60åˆ†é’Ÿ
```

#### è¡¨æƒ…åŒ…ç®¡ç†ç¤ºä¾‹
```bash
# æŸ¥çœ‹è¡¨æƒ…åŒ…ï¼ˆæ˜¾ç¤ºå›¾ç‰‡ï¼‰
/meme list                        # åˆ—å‡ºæ‰€æœ‰è¡¨æƒ…åŒ…ï¼ˆé»˜è®¤10å¼ ï¼Œæ˜¾ç¤ºå›¾ç‰‡ï¼‰
/meme list happy                  # åˆ—å‡ºhappyåˆ†ç±»çš„è¡¨æƒ…åŒ…ï¼ˆæ˜¾ç¤ºå›¾ç‰‡ï¼‰
/meme list sad 20                 # åˆ—å‡ºsadåˆ†ç±»çš„å‰20å¼ è¡¨æƒ…åŒ…ï¼ˆæ˜¾ç¤ºå›¾ç‰‡ï¼‰

# æŸ¥çœ‹è¡¨æƒ…åŒ…ï¼ˆä»…æ–‡æœ¬ï¼Œé€‚åˆå¿«é€Ÿæµè§ˆï¼‰
/meme list_text                   # åˆ—å‡ºæ‰€æœ‰è¡¨æƒ…åŒ…ï¼ˆä»…æ–‡ä»¶åï¼‰
/meme list_text happy 5           # åˆ—å‡ºhappyåˆ†ç±»çš„å‰5å¼ ï¼ˆä»…æ–‡ä»¶åï¼‰

# åˆ é™¤è¡¨æƒ…åŒ…
/meme delete 3                    # åˆ é™¤åˆ—è¡¨ä¸­ç¬¬3å¼ è¡¨æƒ…åŒ…
/meme delete image_001.jpg        # æŒ‰æ–‡ä»¶ååˆ é™¤è¡¨æƒ…åŒ…

# æ•°æ®è¿ç§»ï¼ˆå‡çº§æ—¶ä½¿ç”¨ï¼‰
/meme migrate                     # è¿ç§»æ—§ç‰ˆæœ¬æ•°æ®
```

### ç®¡ç†å‘˜æŒ‡ä»¤

| æŒ‡ä»¤ | æè¿° |
|------|------|
| `/meme push <category> [alias]` | æ¨é€æŒ‡å®šåˆ†ç±»çš„è¡¨æƒ…åŒ… |
| `/meme debug_image` | è°ƒè¯•å›¾ç‰‡å¤„ç† |
| `/meme list [category] [limit]` | åˆ—å‡ºè¡¨æƒ…åŒ…ï¼ˆæ˜¾ç¤ºå›¾ç‰‡ï¼‰ |
| `/meme list_text [category] [limit]` | åˆ—å‡ºè¡¨æƒ…åŒ…ï¼ˆä»…æ–‡æœ¬ï¼‰ |
| `/meme delete <åºå·\|æ–‡ä»¶å>` | åˆ é™¤æŒ‡å®šè¡¨æƒ…åŒ… |
| `/meme migrate` | è¿ç§»æ—§ç‰ˆæœ¬æ•°æ® |
| `/meme reload_persona` | æ‰‹åŠ¨é‡æ–°æ³¨å…¥äººæ ¼ |
| `/meme persona_status` | æŸ¥çœ‹äººæ ¼æ³¨å…¥çŠ¶æ€ |

## ğŸ—‘ï¸ æ–‡ä»¶æ¸…ç†æœºåˆ¶

æ’ä»¶å®ç°äº†çµæ´»çš„æ–‡ä»¶æ¸…ç†æœºåˆ¶ï¼Œç¡®ä¿ä¸ä¼šå ç”¨è¿‡å¤šå­˜å‚¨ç©ºé—´ã€‚

### ğŸ†• ç‹¬ç«‹ä»»åŠ¡ç³»ç»Ÿ

æ¸…ç†æœºåˆ¶å·²æ‹†åˆ†ä¸ºä¸¤ä¸ªç‹¬ç«‹ä»»åŠ¡ï¼š

#### 1. Rawç›®å½•æ¸…ç†ä»»åŠ¡ ğŸ“
- **åŠŸèƒ½**ï¼šå®šæœŸæ¸…ç†è¿‡æœŸçš„åŸå§‹å›¾ç‰‡
- **é»˜è®¤å‘¨æœŸ**ï¼š30åˆ†é’Ÿ
- **ä¿ç•™æœŸé™**ï¼š60åˆ†é’Ÿ
- **æ§åˆ¶**ï¼šå¯å•ç‹¬å¯ç”¨/ç¦ç”¨

#### 2. å®¹é‡æ§åˆ¶ä»»åŠ¡ ğŸ“Š
- **åŠŸèƒ½**ï¼šå®šæœŸæ£€æŸ¥å¹¶æ§åˆ¶è¡¨æƒ…åŒ…æ•°é‡
- **é»˜è®¤å‘¨æœŸ**ï¼š60åˆ†é’Ÿ
- **æ•°é‡ä¸Šé™**ï¼š100å¼ 
- **æ§åˆ¶**ï¼šå¯å•ç‹¬å¯ç”¨/ç¦ç”¨

### é…ç½®ç¤ºä¾‹

```bash
# åªå¯ç”¨rawæ¸…ç†ï¼Œä¸æ§åˆ¶å®¹é‡
/meme raw_cleanup on
/meme capacity_control off

# è®¾ç½®ä¸åŒçš„æ‰§è¡Œå‘¨æœŸ
/meme raw_cleanup_interval 15    # 15åˆ†é’Ÿæ¸…ç†ä¸€æ¬¡
/meme capacity_interval 120      # 2å°æ—¶æ§åˆ¶ä¸€æ¬¡
```

### å·¥ä½œæµç¨‹

1. **Rawæ¸…ç†ä»»åŠ¡**ï¼š
   - æ¯30åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡ï¼ˆå¯é…ç½®ï¼‰
   - åˆ é™¤è¶…è¿‡60åˆ†é’Ÿçš„åŸå§‹å›¾ç‰‡
   - **åªæ¸…ç†rawç›®å½•**ï¼Œä¸å½±å“categoriesç›®å½•
   - åªåœ¨ `steal_emoji` å’Œ `enable_raw_cleanup` éƒ½å¯ç”¨æ—¶æ‰§è¡Œ

2. **å®¹é‡æ§åˆ¶ä»»åŠ¡**ï¼š
   - æ¯60åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡ï¼ˆå¯é…ç½®ï¼‰
   - æ£€æŸ¥è¡¨æƒ…åŒ…æ•°é‡æ˜¯å¦è¶…è¿‡ä¸Šé™
   - **åªåˆ é™¤categoriesç›®å½•ä¸­è¶…å‡ºé™åˆ¶çš„è¡¨æƒ…åŒ…**
   - æŒ‰åˆ›å»ºæ—¶é—´åˆ é™¤æœ€æ—§çš„è¡¨æƒ…åŒ…
   - åªåœ¨ `steal_emoji` å’Œ `enable_capacity_control` éƒ½å¯ç”¨æ—¶æ‰§è¡Œ

### ğŸ”§ ä»»åŠ¡èŒè´£åˆ†ç¦»

- **Rawæ¸…ç†**: ä¸“é—¨å¤„ç†ä¸´æ—¶æ–‡ä»¶ï¼ŒåŸºäºæ–‡ä»¶å¹´é¾„æ¸…ç†
- **å®¹é‡æ§åˆ¶**: ä¸“é—¨ç®¡ç†è¡¨æƒ…åŒ…æ•°é‡ï¼ŒåŸºäºé…é¢é™åˆ¶æ¸…ç†  
- **ç‹¬ç«‹è¿è¡Œ**: ä¸¤ä¸ªä»»åŠ¡äº’ä¸å¹²æ‰°ï¼Œç¡®ä¿æ¸…ç†é€»è¾‘æ¸…æ™°

## ğŸ¯ å›¾ç‰‡å¤„ç†èŠ‚æµ

ä¸ºäº†é¿å…è¿‡åº¦è°ƒç”¨VLM APIï¼Œæ’ä»¶æä¾›äº†æ™ºèƒ½èŠ‚æµåŠŸèƒ½ã€‚

### å››ç§èŠ‚æµæ¨¡å¼

| æ¨¡å¼ | è¯´æ˜ | APIæ¶ˆè€— | é€‚ç”¨åœºæ™¯ |
|-----|------|---------|---------|
| **probability** | æŒ‰æ¦‚ç‡éšæœºå¤„ç† | â­â­ å¯æ§ | **æ—¥å¸¸ä½¿ç”¨ï¼ˆæ¨èï¼‰** |
| **interval** | æ¯Nç§’å¤„ç†ä¸€æ¬¡ | â­ æœ€ä½ | APIé¢åº¦ç´§å¼  |
| **cooldown** | ä¸¤æ¬¡é—´éš”è‡³å°‘Nç§’ | â­â­ è¾ƒä½ | é¿å…åˆ·å± |
| **always** | æ¯å¼ éƒ½å¤„ç† | â­â­â­â­â­ æœ€é«˜ | APIå……è¶³ |

### æ¨èé…ç½® âœ¨

```bash
# å¹³è¡¡æ¨¡å¼ï¼ˆæ¨èï¼‰- å‡å°‘70%çš„APIè°ƒç”¨
/meme throttle_mode probability
/meme throttle_probability 0.3

# èŠ‚çœæ¨¡å¼ - å‡å°‘90%çš„APIè°ƒç”¨
/meme throttle_mode probability
/meme throttle_probability 0.1

# ä¸¥æ ¼é™åˆ¶ - æ¯5åˆ†é’Ÿæœ€å¤šå¤„ç†ä¸€æ¬¡
/meme throttle_mode interval
/meme throttle_interval 300
```

### æ•ˆæœå¯¹æ¯”

å‡è®¾æ¯å¤©æ”¶åˆ°100å¼ å›¾ç‰‡ï¼š

| é…ç½® | å¤„ç†æ•°é‡ | APIèŠ‚çœ |
|-----|---------|---------|
| always | 100å¼  | 0% |
| probability 30% | ~30å¼  | 70% â¬‡ï¸ |
| probability 10% | ~10å¼  | 90% â¬‡ï¸ |
| interval 300ç§’ | å–å†³äºåˆ†å¸ƒ | å¤§å¹…å‡å°‘ |

## âš ï¸ æ³¨æ„äº‹é¡¹

- æ’ä»¶æ”¯æŒè‡ªåŠ¨ä½¿ç”¨å½“å‰ä¼šè¯çš„è§†è§‰æ¨¡å‹ï¼Œæ— éœ€é¢å¤–é…ç½®å³å¯å¼€å§‹ä½“éªŒ
- è§†è§‰æ¨¡å‹è°ƒç”¨ä¼šæ¶ˆè€—ç›¸åº”çš„API tokenï¼Œ**å¼ºçƒˆå»ºè®®é…ç½®èŠ‚æµåŠŸèƒ½**ä»¥å‡å°‘APIæ¶ˆè€—
- å®éªŒæ€§æ’ä»¶ï¼Œä¸åŒçš„è§†è§‰æ¨¡å‹å¯¹è¡¨æƒ…åŒ…åˆ†ç±»çš„æ•ˆæœå¯èƒ½ä¸åŒï¼Œå»ºè®®æ ¹æ®å®é™…æƒ…å†µé€‰æ‹©åˆé€‚çš„æ¨¡å‹
- å¦‚æœæœ‰å¯¹æˆ‘ç›®å‰æ’ä»¶ä¸­æç¤ºè¯æœ‰ä¼˜åŒ–æƒ³æ³•çš„å¯ä»¥æä¸ªissueæˆ‘æµ‹è¯•æµ‹è¯•
- æ¨èä½¿ç”¨ `probability` æ¨¡å¼ + 30%æ¦‚ç‡ï¼Œå¯ä»¥åœ¨ä¿æŒåŠŸèƒ½çš„åŒæ—¶å¤§å¹…å‡å°‘APIæ¶ˆè€—

### ğŸ”„ å‡çº§ç›¸å…³
- **v2.0.0å®Œå…¨å‘åå…¼å®¹**ï¼šå¯ä»¥ç›´æ¥ä»ä»»ä½•æ—§ç‰ˆæœ¬å‡çº§ï¼Œæ— éœ€æ‹…å¿ƒæ•°æ®ä¸¢å¤±
- **è‡ªåŠ¨ä¿®å¤æ—§é—®é¢˜**ï¼šå‡çº§åä¼šè‡ªåŠ¨ä¿®å¤æ—§ç‰ˆæœ¬çš„é…ç½®åŒæ­¥å’Œä½¿ç”¨ç»Ÿè®¡é—®é¢˜
- **æ¸è¿›å¼è¿ç§»**ï¼šæ–°åŠŸèƒ½ä¼šé€æ­¥ç”Ÿæ•ˆï¼Œä¸å½±å“ç°æœ‰åŠŸèƒ½çš„æ­£å¸¸ä½¿ç”¨
- **ä¼˜é›…é™çº§**ï¼šå³ä½¿æ–°åŠŸèƒ½å‡ºç°é—®é¢˜ï¼Œä¹Ÿä¼šè‡ªåŠ¨å›é€€åˆ°æ—§ç‰ˆæœ¬é€»è¾‘

## ğŸ“š è¯¦ç»†æ–‡æ¡£

- [å›¾ç‰‡å¤„ç†èŠ‚æµåŠŸèƒ½ä½¿ç”¨æŒ‡å—](image_processing_throttle_guide.md)
- [ç‹¬ç«‹åå°ä»»åŠ¡åŠŸèƒ½ä½¿ç”¨æŒ‡å—](independent_tasks_guide.md)
- [èŠ‚æµåŠŸèƒ½å¿«é€Ÿæ€»ç»“](throttle_feature_summary.md)

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®åŸºäº MIT è®¸å¯è¯å¼€æºã€‚

[![GitHub license](https://img.shields.io/github/license/nagatoquin33/astrbot_plugin_stealer)](https://github.com/nagatoquin33/astrbot_plugin_stealer/blob/main/LICENSE)

---

<div align="center">

**ğŸ­ Happy meme collecting! ğŸ­**

**v2.0.0 - ä¼ä¸šçº§å¯é æ€§ï¼Œé›¶é£é™©å‡çº§ï¼**

å¦‚æœè§‰å¾—è¿™ä¸ªæ’ä»¶æœ‰ç”¨ï¼Œæ¬¢è¿ç»™ä¸ª â­ Starï¼

</div>
