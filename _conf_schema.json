{
  "_steal_section": {
    "description": "=== 偷图设置 ===",
    "type": "text",
    "invisible": true
  },
  "steal_emoji": {
    "description": "开启表情包偷取功能",
    "type": "bool",
    "default": true
  },
  "steal_mode": {
    "description": "偷图模式",
    "type": "string",
    "default": "probability",
    "options": ["probability", "cooldown"],
    "hint": "probability=概率模式：每次收到图片按概率决定是否偷取\ncooldown=冷却模式：两次偷取之间必须间隔指定秒数"
  },
  "steal_chance": {
    "description": "偷图概率（概率模式生效）",
    "type": "float",
    "default": 0.6,
    "slider": {
      "min": 0.0,
      "max": 1.0,
      "step": 0.1
    },
    "hint": "概率模式下每次收到图片时尝试偷取的概率，0.0=从不偷取，1.0=每次都偷。建议 0.4-0.8"
  },
  "image_processing_cooldown": {
    "description": "偷图冷却时间/秒（冷却模式生效）",
    "type": "int",
    "default": 10,
    "slider": {
      "min": 0,
      "max": 120,
      "step": 5
    },
    "hint": "冷却模式下两次偷取之间的最小间隔（秒）。0=不限制"
  },
  "content_filtration": {
    "description": "内容审核（过滤不当图片）",
    "type": "bool",
    "default": false
  },

  "_send_section": {
    "description": "=== 发送设置 ===",
    "type": "text",
    "invisible": true
  },
  "auto_send": {
    "description": "自动随聊发送表情包",
    "type": "bool",
    "default": true
  },
  "emoji_chance": {
    "description": "表情包发送概率",
    "type": "float",
    "default": 0.4,
    "slider": {
      "min": 0.0,
      "max": 1.0,
      "step": 0.1
    },
    "hint": "自动发送表情包的概率，0.0=从不发送，1.0=每次都发送，建议 0.2-0.6"
  },
  "send_emoji_as_gif": {
    "description": "真表情包样式（GIF发送）",
    "type": "bool",
    "default": true,
    "hint": "✅ 开启：以 GIF 输出（更接近真表情包样式）\n❌ 关闭：按原文件格式发送（png/jpg/gif 等）\n\n⚠️ 开启后高频发送大图/动图场景会有较高瞬时内存占用"
  },

  "smart_emoji_selection": {
    "description": "智能表情包选择",
    "type": "bool",
    "default": true,
    "hint": "✅ 开启=综合评分选择（多样性+匹配度+相似度）\n❌ 关闭=随机选择（仍会避免短期重复）"
  },

  "_emotion_section": {
    "description": "=== 情绪识别 ===",
    "type": "text",
    "invisible": true
  },
  "enable_natural_emotion_analysis": {
    "description": "情绪识别模式",
    "type": "bool",
    "default": true,
    "hint": "✅ 开启=LLM模式（轻量模型分析语义，不修改LLM回复）\n❌ 关闭=被动标签模式（LLM插入情绪标签，会修改回复内容）\n\n⚠️ 切换模式后建议使用 /reset 清除对话上下文"
  },
  "emotion_analysis_provider_id": {
    "description": "情绪分析专用模型（LLM模式）",
    "type": "string",
    "hint": "留空则使用当前会话模型，建议使用轻量免费模型",
    "_special": "select_provider"
  },

  "_model_section": {
    "description": "=== 模型配置 ===",
    "type": "text",
    "invisible": true
  },
  "vision_provider_id": {
    "description": "视觉模型（用于图片分类）",
    "type": "string",
    "hint": "留空则使用当前会话模型",
    "_special": "select_provider"
  },

  "_group_section": {
    "description": "=== 群聊过滤 ===",
    "type": "text",
    "invisible": true
  },
  "group_whitelist": {
    "description": "群聊白名单（优先生效）",
    "type": "list",
    "default": [],
    "hint": "填写群号列表。白名单非空时：只有白名单内的群会偷/发"
  },
  "group_blacklist": {
    "description": "群聊黑名单",
    "type": "list",
    "default": [],
    "hint": "填写群号列表。白名单为空时：黑名单内的群不会偷/发"
  },

  "_storage_section": {
    "description": "=== 存储管理 ===",
    "type": "text",
    "invisible": true
  },
  "max_reg_num": {
    "description": "最大表情包数量",
    "type": "int",
    "default": 100,
    "slider": {
      "min": 10,
      "max": 2000,
      "step": 10
    },
    "hint": "表情包存储上限，超过后自动清理旧表情包"
  },

  "_webui_section": {
    "description": "=== WebUI 管理界面 ===",
    "type": "text",
    "invisible": true
  },
  "webui": {
    "description": "WebUI 管理界面配置",
    "type": "object",
    "items": {
      "enabled": {
        "description": "启用 WebUI",
        "type": "bool",
        "default": true
      },
      "host": {
        "description": "监听地址",
        "type": "string",
        "default": "0.0.0.0",
        "hint": "0.0.0.0=允许外部访问，127.0.0.1=仅本地访问"
      },
      "port": {
        "description": "监听端口",
        "type": "int",
        "default": 8899
      },
      "auth_enabled": {
        "description": "启用登录验证",
        "type": "bool",
        "default": true,
        "hint": "✅ 开启：访问需登录（推荐）\n❌ 关闭：无需登录（仅建议内网使用）"
      },
      "password": {
        "description": "访问密码",
        "type": "string",
        "default": "",
        "hint": "仅在登录验证开启时生效。留空将自动生成 6 位随机密码"
      },
      "session_timeout": {
        "description": "会话超时时间/秒",
        "type": "int",
        "default": 3600,
        "hint": "登录会话有效时长，超时需重新登录"
      }
    }
  }
}
